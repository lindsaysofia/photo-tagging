(this["webpackJsonpphoto-tagging"]=this["webpackJsonpphoto-tagging"]||[]).push([[0],{43:function(e,a,t){},56:function(e,a,t){},57:function(e,a,t){},59:function(e,a,t){},60:function(e,a,t){},61:function(e,a,t){},62:function(e,a,t){},63:function(e,a,t){},65:function(e,a,t){"use strict";t.r(a);var n=t(6),c=t.n(n),r=t(36),s=t.n(r),i=(t(43),t(0)),o=t.n(i),d=t(3),m=t(17),l=t(10),u=t(11),h=t(37),j=t.n(h),b=t(32),p=t.n(b),f=t(14),g=(t(56),t(57),t(5));var x=function(e){var a=e.index,t=e.game,n=e.handleDropdownSelection;return Object(g.jsx)("div",{className:"Dropdown",children:t.characters.map((function(e,t){return Object(g.jsx)("p",{"data-game":a,"data-character":t,className:"Dropdown-character",onClick:n,children:e.name},t)}))})};t(59);var O=function(e){var a=e.handleLeaderboardSubmission,t=e.index,n=e.handleNameChange,c=e.name,r=e.timeLapsed;return Object(g.jsx)("div",{className:"Popup",children:Object(g.jsxs)("form",{className:"Popup-form",onSubmit:a,children:[Object(g.jsx)(f.b,{className:"form-close",to:"/",children:"X"}),Object(g.jsxs)("h2",{children:["You finished in ",r.toFixed(4)," seconds!"]}),Object(g.jsx)("p",{children:"Submit your score on the global leaderboard!"}),Object(g.jsx)("input",{id:"name",type:"text",placeholder:"Name",value:c,onChange:n,minLength:"1",maxLength:"20",required:!0,className:"form-input"}),Object(g.jsxs)("div",{className:"form-buttons",children:[Object(g.jsx)("button",{type:"submit",className:"form-submit","data-index":t,onClick:a,children:"Submit Name"}),Object(g.jsx)(f.b,{to:"/",className:"form-nosubmit",children:"No, thanks"})]})]})})};var v=function(e){var a=e.games,t=e.handleImageClick,n=e.handleDropdownSelection,c=e.charactersFound,r=e.handleLeaderboardSubmission,s=e.handleNameChange,i=e.name,o=e.timeLapsed,d=(e.updateCurrentGameIndex,e.currentGameIndex);return Object(g.jsxs)("div",{className:"Game",children:[Object(g.jsx)(O,{handleLeaderboardSubmission:r,index:d,handleNameChange:s,name:i,timeLapsed:o}),Object(g.jsxs)("nav",{className:"Game-nav",children:[Object(g.jsx)("div",{className:"Game-characters",children:a[d].characters.map((function(e,a){return Object(g.jsxs)("div",{children:[Object(g.jsx)("img",{src:e.image,alt:e.name,className:"Game-character".concat(c.includes(e.name)?" found":"")}),Object(g.jsx)("p",{className:"Game-character-name",children:e.name})]},a)}))}),Object(g.jsxs)(f.b,{to:"/",className:"Game-nav-link",children:[Object(g.jsxs)("h1",{children:[Object(g.jsx)("i",{className:"fas fa-search"})," iSpy"]}),Object(g.jsx)("p",{children:"Find the hidden characters!"})]}),Object(g.jsx)(f.b,{to:"/leaderboard",className:"Game-nav-link",children:"Leaderboard"})]}),Object(g.jsxs)("main",{className:"Game-main",children:[Object(g.jsx)("img",{src:a[d].image,alt:"",className:"Game-image",onClick:t}),Object(g.jsx)(x,{index:d,game:a[d],handleDropdownSelection:n})]})]})};t(60),t(61);var N=function(e){var a=e.game,t=e.index,n=e.parent,c=e.initiateGame,r=e.updateCurrentGameIndex;if("home"===n)return Object(g.jsxs)(f.b,{to:"/game",className:"GameTile",onClick:function(){c(),r(t)},children:[Object(g.jsx)("img",{src:a.image,alt:"",className:"GameTile-image"}),Object(g.jsxs)("div",{className:"GameTile-description",children:[Object(g.jsxs)("h3",{children:["Game ",t+1]}),Object(g.jsx)("div",{className:"GameTile-characters",children:a.characters.map((function(e,a){return Object(g.jsx)("img",{src:e.image,alt:e.name,className:"GameTile-character"},a)}))})]})]});var s=e.active,i=e.handleLeaderboardStats;return Object(g.jsxs)("div",{onClick:function(){i(t),r(t)},className:"GameTile leaderboard".concat(s?" active":""),children:[Object(g.jsx)("img",{src:a.image,alt:"",className:"GameTile-image",onClick:function(){i(t),r(t)}}),Object(g.jsxs)("div",{onClick:function(){i(t),r(t)},className:"GameTile-description",children:[Object(g.jsxs)("h3",{onClick:function(){i(t),r(t)},children:["Game ",t+1]}),Object(g.jsx)("div",{onClick:function(){i(t),r(t)},className:"GameTile-characters",children:a.characters.map((function(e,a){return Object(g.jsx)("img",{src:e.image,alt:e.name,className:"GameTile-character",onClick:function(){i(t),r(t)}},a)}))})]})]})};var y=function(e){var a=e.games,t=e.initiateGame,n=e.updateCurrentGameIndex,c=e.updateStats;return Object(g.jsxs)("div",{className:"Home",children:[Object(g.jsxs)("nav",{className:"Home-nav",children:[Object(g.jsxs)(f.b,{to:"/",className:"Home-nav-link",children:[Object(g.jsxs)("h1",{children:[Object(g.jsx)("i",{className:"fas fa-search"})," iSpy"]}),Object(g.jsx)("p",{children:"Find the hidden characters!"})]}),Object(g.jsx)(f.b,{to:"/leaderboard",className:"Home-nav-link",onClick:c,children:"Leaderboard"})]}),Object(g.jsx)("main",{className:"Home-main",children:a.map((function(e,a){return Object(g.jsx)(N,{parent:"home",game:e,index:a,initiateGame:t,updateCurrentGameIndex:n},a)}))})]})};t(62);var G=function(e){var a=e.games,t=e.handleLeaderboardStats,n=e.currentGameIndex,c=e.updateCurrentGameIndex,r=e.stats,s=e.initiateGame;return r.sort((function(e,a){return e.time-a.time})),Object(g.jsxs)("div",{className:"Leaderboard",children:[Object(g.jsx)("nav",{className:"Leaderboard-nav",children:Object(g.jsxs)(f.b,{to:"/",className:"Leaderboard-nav-link",children:[Object(g.jsxs)("h1",{children:[Object(g.jsx)("i",{className:"fas fa-search"})," iSpy"]}),Object(g.jsx)("p",{children:"Find the hidden characters!"})]})}),Object(g.jsxs)("main",{className:"Leaderboard-main",children:[Object(g.jsx)("div",{className:"Leaderboard-games",children:a.map((function(e,a){return Object(g.jsx)(N,{parent:"leaderboard",game:e,index:a,active:a===n,handleLeaderboardStats:t,updateCurrentGameIndex:c},a)}))}),Object(g.jsx)(f.b,{to:"/game",className:"Leaderboard-play",onClick:function(){s()},children:"Play this Level"}),Object(g.jsxs)("div",{className:"Leaderboard-stats",children:[["Place","Player","Time (Seconds)","Date"].map((function(e,a){return Object(g.jsx)("h3",{className:"stats-header",children:e},a)})),r.map((function(e,a){return[Object(g.jsx)("p",{className:"stat",children:a+1},"".concat(a,"1")),Object(g.jsx)("p",{className:"stat",children:e.name},"".concat(a,"2")),Object(g.jsx)("p",{className:"stat",children:e.time.toFixed(4)},"".concat(a,"3")),Object(g.jsx)("p",{className:"stat",children:e.date.toDate().toDateString()},"".concat(a,"4"))]}))]})]})]})},S=(t(63),t(38)),C=t(26),k=t(21),w={apiKey:"AIzaSyBT6uBDAfiNc-M5n7h4DPQsVZjwVaBp1JE",authDomain:"phototagging-c7dad.firebaseapp.com",projectId:"phototagging-c7dad",storageBucket:"phototagging-c7dad.appspot.com",messagingSenderId:"155339646587",appId:"1:155339646587:web:e75da3efbf32b177bbe4de"};var L=function(){var e=[{image:"",characters:[{name:"sasuke",image:""},{name:"waldo",image:""}]},{image:"",characters:[{name:"naruto",image:""},{name:"woody",image:""},{name:"ash",image:""}]},{image:"",characters:[{name:"pikachu",image:""}]},{image:"",characters:[{name:"waldo",image:""}]},{image:"",characters:[{name:"swordfish",image:""},{name:"pretzel",image:""},{name:"heart",image:""}]},{image:"",characters:[{name:"sonic",image:""}]}],a=Object(n.useState)(e),t=Object(l.a)(a,2),c=t[0],r=t[1],s=Object(n.useState)({currentX:0,currentY:0}),i=Object(l.a)(s,2),h=i[0],b=i[1],f=Object(n.useState)([]),x=Object(l.a)(f,2),O=x[0],N=x[1],L=Object(n.useState)(""),I=Object(l.a)(L,2),D=I[0],T=I[1],F=Object(n.useState)(0),P=Object(l.a)(F,2),E=P[0],B=P[1],Y=Object(n.useState)(0),M=Object(l.a)(Y,2),X=M[0],q=M[1],H=Object(n.useState)(0),V=Object(l.a)(H,2),A=V[0],J=V[1],z=Object(n.useState)([]),K=Object(l.a)(z,2),Q=K[0],R=K[1],W=Object(u.f)(),Z=p.a.array,U=new j.a;U.addWords.apply(U,Object(m.a)(Z));var $=Object(S.a)(w),_=Object(k.e)($),ee=Object(C.b)($);function ae(){return(ae=Object(d.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c[a].characters.forEach((function(e,t){var n=Object(k.c)(_,"game".concat(a+1),e.name);Object(k.d)(n).then((function(e){e.exists()?r((function(n){var c=n.slice();return c[a].characters[t].location=e.data(),c})):console.log("No such document!")}))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=function(){c.forEach((function(e,a){var t;!function(e){var a=Object(C.c)(ee,"game".concat(e+1,".").concat(2===e?"png":"jpeg"));Object(C.a)(a).then((function(a){r((function(t){var n=t.slice();return n[e].image=a,n}))})).catch((function(e){console.log(e)}))}(a),c[t=a].characters.forEach((function(e,a){var n=Object(C.c)(ee,"characters/".concat(e.name,".png"));Object(C.a)(n).then((function(e){r((function(n){var c=n.slice();return c[t].characters[a].image=e,c}))})).catch((function(e){console.log(e)}))})),function(e){ae.apply(this,arguments)}(a)}))};Object(n.useEffect)((function(){return te(),function(){r(e)}}),[]),Object(n.useEffect)((function(){se(A)}),[A]);var ne=function(){B(performance.now()),ce()},ce=function(){N([]),T("")};function re(){return(re=Object(d.a)(o.a.mark((function e(a){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(k.c)(_,"game".concat(A+1),"stats"),e.next=4,Object(k.f)(t,{stats:Object(k.b)(a)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error adding document: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function se(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(d.a)(o.a.mark((function e(a){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=a||0,e.prev=1,t=Object(k.c)(_,"game".concat(a+1),"stats"),e.next=5,Object(k.d)(t);case 5:(n=e.sent).exists()&&R(n.data().stats),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error adding document: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function oe(){return(oe=Object(d.a)(o.a.mark((function e(a){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=Array.from(document.querySelectorAll(".GameTile.leaderboard")))[A].classList.remove("active"),t[a].classList.add("active");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=function(e){J(e)};return Object(g.jsxs)(u.c,{children:[Object(g.jsx)(u.a,{path:"/game",element:Object(g.jsx)(v,{games:c,handleImageClick:function(e){var a=e.target.getBoundingClientRect(),t=a.height,n=a.width,c=a.top,r=a.left,s=e.pageX,i=e.pageY,o=e.clientX-r,d=e.clientY-c,m=document.querySelector(".Dropdown");m.style.left="".concat(s,"px"),m.style.top="".concat(i,"px"),b({currentX:o/n*100,currentY:d/t*100})},handleDropdownSelection:function(e){var a=document.querySelector(".Dropdown");a.style.left="-1000px",a.style.top="-1000px";var t=e.target.dataset,n=t.game,r=t.character,s=c[n].characters[r].name;if(!O.includes(s)){var i=c[n].characters[r].location,o=i.x,d=i.y,m=i.delta,l=h.currentX,u=h.currentY,j=Math.abs(l-m),b=Math.abs(l+m),p=Math.abs(u-m),f=Math.abs(u+m);if(p<=d&&f>=d&&b>=o&&j<=o){var g=O.slice();g.push(s),g.length===c[n].characters.length?function(){var e=performance.now();document.querySelector(".Popup").style.visibility="visible",ce(),q((e-E)/1e3)}():N(g)}}},charactersFound:O,handleLeaderboardSubmission:function(e){e.preventDefault();var a=document.getElementById("name");(U.isProfane(D)?a.setCustomValidity("Oh no! Your name contains profanity. Please remove before proceeding."):a.setCustomValidity(""),a.reportValidity(),a.validity.valid)&&(!function(e){re.apply(this,arguments)}({name:D,time:X,date:k.a.fromDate(new Date)}),W("/leaderboard"),se(A))},handleNameChange:function(e){var a=e.target.value.trim();T(a)},name:D,timeLapsed:X,updateCurrentGameIndex:de,currentGameIndex:A})}),Object(g.jsx)(u.a,{path:"/",element:Object(g.jsx)(y,{games:c,initiateGame:ne,updateCurrentGameIndex:de,updateStats:se})}),Object(g.jsx)(u.a,{path:"/leaderboard",element:Object(g.jsx)(G,{games:c,handleLeaderboardStats:function(e){return oe.apply(this,arguments)},currentGameIndex:A,updateCurrentGameIndex:de,stats:Q,initiateGame:ne})})]})},I=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,66)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,r=a.getLCP,s=a.getTTFB;t(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(f.a,{basename:"/photo-tagging",children:Object(g.jsx)(L,{})})}),document.getElementById("root")),I()}},[[65,1,2]]]);
//# sourceMappingURL=main.70d74c9a.chunk.js.map